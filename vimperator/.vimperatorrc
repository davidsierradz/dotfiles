"--------------------------------Vimperator Settings---------------------------"

" Set alphabet for link hints.
set hintchars=sadfjklewcmpgh

" Disable all but tabs on Firefox GUI.
set toolbars=none,tabs

" Show numbers on each tab.
set tabnumbers

" Perform incremental searching.
set incsearch

" Highlight search results.
set hlsearch

" Typically (see below) ignore case.
set ignorecase

" Only consider case if an upper case character is used.
set smartcase

" Disable default insert mode on some websites.
set focuscontent

" Items listed when open a new buffer.
set complete=slS

" Solarized colorscheme
"colorscheme solarized_dark

" Show selected link with ;; in the content area.
set showstatuslinks=3

"--------------------------------End Vimperator Settings-----------------------"




"--------------------------------Vimperator Styles-----------------------------"

" Set default style for statusline bar.
"hi StatusLine color: #fff; background: #000;
"hi Normal color:  #fff;  background: #000;

"--------------------------------End Vimperator Styles-------------------------"




"--------------------------------Vimperator Mappings---------------------------"

" Clear search highlight.
nnoremap <A-L> :noh<CR>

" Toggle the status line with gs.
nnoremap gs :togglestatusline<CR>

" Set the status line color to black.
nnoremap ga :hi StatusLine color: #fff; background: #000;<CR>

" Set the status line color to white.
nnoremap gd :hi StatusLine color: #000; background: #fff;<CR>

" Previous and next tabs.
nnoremap K <C-p>
nnoremap J <C-n>

" Moar scroll.
nnoremap j 3j
nnoremap k 3k

" Swap close current buffer mapping.
nnoremap d D
nnoremap D d

" More zoom.
nnoremap <C-z>i 3zi

" Map << and >> to move tabs.
nnoremap << :tabmove -1<CR>
nnoremap >> :tabmove +1<CR>

" Close Firefox and save the session.
nnoremap <Leader>qq :xall<CR>

" Restart Firefox.
nnoremap <Leader>qr :restart<CR>

" Swap Ctrl-d with d.
nnoremap <C-d> d
nnoremap d <C-d>

" Map this for D to work (why?).
nnoremap <S-d> D

" Swap Ctrl-u with u.
nnoremap <C-u> u
nnoremap u <C-u>

" Use backspace to change to last tab.
nnoremap <BS> <C-^>

"--------------------------------End Vimperator Mappings-----------------------"




"--------------------------------Vimperator Commands---------------------------"

" Save the Firefox session when closing with qall.
command! qall xall

" Toggle the status line with a JS function.
command! togglestatusline javascript togglestatusline()

"--------------------------------End Vimperator Commands-----------------------"




"--------------------------------Vimperator Functions--------------------------"

" Disable statusline when Firefox starts.
javascript <<EOF
  (function() {
    options['statuslinevisibility'] = 'auto';
  })()
EOF

javascript <<EOF
  function togglestatusline() {
    if (['auto', 'visible'].indexOf(options['statuslinevisibility']) >= 0) {
      options['statuslinevisibility'] = 'hidden';
    } else {
      // or 'visible'
      options['statuslinevisibility'] = 'auto';
    }
  }
EOF

"--------------------------------End Vimperator Functions----------------------"
